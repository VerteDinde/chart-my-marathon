<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Chart My Marathon</title>
  <meta name="description" content="Visualizing data for the NYC 2016 Marathon">
  <meta name="author" content="Keeley Hammond">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="icon" type="image/ico" href="images/runner.ico">
</head>
<body>
  <header></header>
  <main class="container" style="margin-top: 15%">
      <h2>Visualing the 2016 NYC Marathon</h2>
      <p>I’ve been an enthusiastic (if fairly slow) runner since I was in high school, and if there’s one thing us runners love, its our data. I have the privledge of winning the New York City Marathon's 2016 lottery, and so my husband and I took a trip to NYC last November, where I ran it in 4:31 - a PR!<p>
        <p>When you're training for a marathon, you spend far too much time looking at training plans, reading about the 80-20 rule, negative splits, nutrition, pace zones - and just as importantly, finding out what every other runner is up to! I was curious how my fellow racers trained and performed, and so, inspired by this excellent post by Colin Eberhart, I decided to try my first attempt at web scraping and analyze our race data.</p>
    <div class="row">
      <h4>01: Getting the Data</h4>
      <p>One of the first things I had to figure out was how to grab the data. While Strava does have an open API, I hadn't yet learned how to use it, and wanted to try out this thing called 'web scraping' - I didn't really know what it was, but it sounded cool and "hackery", as painful as that is to type.</p>
      <p>After reading a few articles, I found a scraper written in Node called scrape-it that was perfect.</p>
      <h5>Problem 1: Writing the data scraper.</h5>
      <p>The first hop to go through was fairly self-explanatory: how do we configure the scraper to grab what I want?</p>
      <h5>Problem 2: Strava is a single-page app.</h5>
      <p>The second problem was a bit more subtle. Strava showed one page of 20 NYC runners at a time. So, this seemed as easy as grabbing the new url for each page (?page2, ?page3, etc), right? I clicked the "2" button...</p>
      <p>...annnnnd Strava refreshed this way.</p>
      <p>See the url, which hasn't changed? Houston, we have a single-page app.</p>
      <p>So what now? How can I pull the data from this chart of 15,000+ runners when only 20 are rendering at a time?</p>
      <h4>02: Creating the Charts</h4>
      <p>This index.html page is a placeholder with the CSS, font and favicon. It's just waiting for you to add some content!
        If you need some help hit up the <a href="http://www.getskeleton.com">Skeleton documentation</a>.</p>
      <h4>02: Average Finishing Times</h4>
      <p>The finishing times for each runner are broken down here:</p>
      <div class="one-half column">
        <table class="u-full-width" id="runners-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Rank</th>
            <th>Age</th>
            <th>Gender</th>
            <th>Finishing Time</th>
            <th>Finishing Pace</th>
          </tr>
        </thead>
        <tbody>
          <tr class="template">
            <td>Averages:</td>
            <td></td>
            <td>Age</td>
            <td>M/F</td>
            <td>Finishing Time</td>
            <td>Finishing Pace</td>
          </tr>
        </tbody>
        </table>
      </div>
    </div>
      <div class="row">
      <h4>Gender and age breakdown of runners</h4>
      <canvas id="gender-ratio"></canvas>
      </div>
      <div class="row">
      <h4>Finishing times of all runners</h4>
      <canvas id="finish-times"></canvas>
      </div>
      <div class="row">
      <h4>Average paces</h4>
      <canvas id="pace-times"></canvas>
      </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.min.js"></script>
  <script src="js/data.js"></script>
  <script src="js/main.js"></script>
  <script src="js/view.js"></script>
</body>
</html>